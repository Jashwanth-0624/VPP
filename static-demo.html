<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPP Nexus - Energy Management Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 30%, #f0fdf4 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { 
            LayoutDashboard, 
            Map, 
            TrendingUp, 
            Settings, 
            FileText,
            Zap,
            TestTube,
            Activity,
            Sun,
            Wind,
            Battery,
            AlertTriangle,
            CheckCircle
        } = lucide;

        // Mock data
        const mockMetrics = {
            totalGeneration: 285.5,
            totalDemand: 320.2,
            batteryLevel: 87,
            gridUsage: 45.7,
            efficiency: 92.3,
            carbonSaved: 156.7
        };

        const mockAlerts = [
            {
                type: "warning",
                title: "High Grid Usage",
                message: "Campus consuming more than optimal from grid. Consider load shifting.",
                priority: "medium"
            },
            {
                type: "recommendation",
                title: "Solar Surplus Available",
                message: "Excess solar generation detected. Ideal time to run non-critical loads.",
                priority: "low"
            }
        ];

        // Metric Card Component
        function MetricCard({ title, value, unit, icon: Icon, color = "blue", trend, trendValue }) {
            const colorClasses = {
                blue: "bg-blue-100 text-blue-600",
                green: "bg-green-100 text-green-600",
                amber: "bg-amber-100 text-amber-600",
                red: "bg-red-100 text-red-600"
            };

            return (
                <div className="bg-white/80 backdrop-blur-sm border border-slate-200 rounded-lg p-4 shadow-sm card-hover">
                    <div className="flex items-center justify-between mb-3">
                        <div className={`p-3 rounded-xl ${colorClasses[color]}`}>
                            <Icon className="w-6 h-6" />
                        </div>
                        {trendValue && (
                            <span className={`text-xs px-2 py-1 rounded-full ${
                                trend === 'up' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                            }`}>
                                {trendValue}
                            </span>
                        )}
                    </div>
                    <h3 className="text-sm font-semibold text-slate-700 mb-2">{title}</h3>
                    <div className="flex items-baseline gap-2">
                        <span className="text-2xl font-bold text-slate-900">{value}</span>
                        {unit && <span className="text-sm text-slate-600 font-semibold">{unit}</span>}
                    </div>
                </div>
            );
        }

        // Alert Panel Component
        function AlertPanel() {
            return (
                <div className="bg-white/80 backdrop-blur-sm border border-slate-200 rounded-lg shadow-sm">
                    <div className="p-4 border-b border-slate-200">
                        <h3 className="text-lg font-semibold text-slate-900">System Alerts</h3>
                    </div>
                    <div className="p-4 space-y-3">
                        {mockAlerts.map((alert, index) => (
                            <div key={index} className={`p-3 rounded-lg border ${
                                alert.type === 'warning' ? 'bg-amber-50 border-amber-200' : 'bg-blue-50 border-blue-200'
                            }`}>
                                <div className="flex items-start gap-3">
                                    {alert.type === 'warning' ? 
                                        <AlertTriangle className="w-4 h-4 text-amber-600 mt-0.5" /> :
                                        <CheckCircle className="w-4 h-4 text-blue-600 mt-0.5" />
                                    }
                                    <div className="flex-1">
                                        <h4 className="text-sm font-medium text-slate-900">{alert.title}</h4>
                                        <p className="text-xs text-slate-600 mt-1">{alert.message}</p>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Main Dashboard Component
        function Dashboard() {
            const [currentTime, setCurrentTime] = useState(new Date());

            useEffect(() => {
                const timer = setInterval(() => {
                    setCurrentTime(new Date());
                }, 1000);
                return () => clearInterval(timer);
            }, []);

            return (
                <div className="min-h-screen">
                    {/* Header */}
                    <div className="bg-white border-b border-slate-200 px-4 py-3">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center">
                                    <Zap className="w-6 h-6 text-white" />
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold text-slate-900">VPP Nexus</h1>
                                    <p className="text-sm text-slate-600">Energy Management Dashboard</p>
                                </div>
                            </div>
                            <div className="flex items-center gap-2 px-3 py-2 bg-green-50 rounded-lg border border-green-200">
                                <div className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                                <span className="text-sm font-medium text-green-700">Live Data</span>
                            </div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="p-6 space-y-6">
                        {/* Key Metrics */}
                        <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                            <MetricCard
                                title="Total Generation"
                                value={mockMetrics.totalGeneration.toFixed(1)}
                                unit="kW"
                                icon={Activity}
                                color="green"
                                trend="up"
                                trendValue="+12%"
                            />
                            <MetricCard
                                title="Campus Demand"
                                value={mockMetrics.totalDemand.toFixed(1)}
                                unit="kW"
                                icon={Zap}
                                color="blue"
                                trend="down"
                                trendValue="-3%"
                            />
                            <MetricCard
                                title="Battery Level"
                                value={mockMetrics.batteryLevel.toFixed(0)}
                                unit="%"
                                icon={Battery}
                                color="amber"
                            />
                            <MetricCard
                                title="Grid Usage"
                                value={mockMetrics.gridUsage.toFixed(1)}
                                unit="kW"
                                icon={TrendingUp}
                                color={mockMetrics.gridUsage > 100 ? "red" : "blue"}
                            />
                            <MetricCard
                                title="System Efficiency"
                                value={mockMetrics.efficiency.toFixed(1)}
                                unit="%"
                                icon={Activity}
                                color="green"
                            />
                            <MetricCard
                                title="Carbon Saved"
                                value={mockMetrics.carbonSaved.toFixed(1)}
                                unit="t COâ‚‚"
                                icon={Sun}
                                color="green"
                                trend="up"
                                trendValue="+8%"
                            />
                        </div>

                        {/* Charts and Alerts */}
                        <div className="grid lg:grid-cols-3 gap-6">
                            <div className="lg:col-span-2">
                                <div className="bg-white/80 backdrop-blur-sm border border-slate-200 rounded-lg shadow-sm">
                                    <div className="p-4 border-b border-slate-200">
                                        <h3 className="text-lg font-semibold text-slate-900">Real-time Energy Flow</h3>
                                    </div>
                                    <div className="p-4">
                                        <div className="h-64 bg-gradient-to-br from-green-50 to-blue-50 rounded-lg flex items-center justify-center">
                                            <div className="text-center">
                                                <Activity className="w-12 h-12 text-slate-400 mx-auto mb-2" />
                                                <p className="text-slate-600">Interactive chart would be here</p>
                                                <p className="text-sm text-slate-500 mt-1">Solar: 180kW | Wind: 75kW | Battery: -45kW</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="space-y-6">
                                <AlertPanel />
                                <div className="bg-white/80 backdrop-blur-sm border border-slate-200 rounded-lg shadow-sm">
                                    <div className="p-4 border-b border-slate-200">
                                        <h3 className="text-lg font-semibold text-slate-900">AI Recommendations</h3>
                                    </div>
                                    <div className="p-4">
                                        <div className="space-y-3">
                                            <div className="p-3 bg-blue-50 rounded-lg border border-blue-200">
                                                <h4 className="text-sm font-medium text-blue-900">Optimize HVAC Schedule</h4>
                                                <p className="text-xs text-blue-700 mt-1">Delay HVAC startup by 30 minutes during peak solar hours</p>
                                                <div className="text-xs text-blue-600 mt-2">Potential savings: $25.50/day</div>
                                            </div>
                                            <div className="p-3 bg-green-50 rounded-lg border border-green-200">
                                                <h4 className="text-sm font-medium text-green-900">Battery Charging</h4>
                                                <p className="text-xs text-green-700 mt-1">Charge battery during low-demand hours</p>
                                                <div className="text-xs text-green-600 mt-2">Store excess solar energy</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Navigation */}
                        <div className="bg-white/80 backdrop-blur-sm border border-slate-200 rounded-lg shadow-sm">
                            <div className="p-4">
                                <h3 className="text-lg font-semibold text-slate-900 mb-4">Available Features</h3>
                                <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
                                    <div className="text-center p-3 bg-slate-50 rounded-lg">
                                        <Map className="w-8 h-8 text-blue-600 mx-auto mb-2" />
                                        <p className="text-sm font-medium text-slate-900">Digital Twin</p>
                                        <p className="text-xs text-slate-600">Campus Map</p>
                                    </div>
                                    <div className="text-center p-3 bg-slate-50 rounded-lg">
                                        <TrendingUp className="w-8 h-8 text-purple-600 mx-auto mb-2" />
                                        <p className="text-sm font-medium text-slate-900">Analytics</p>
                                        <p className="text-xs text-slate-600">AI Insights</p>
                                    </div>
                                    <div className="text-center p-3 bg-slate-50 rounded-lg">
                                        <TestTube className="w-8 h-8 text-emerald-600 mx-auto mb-2" />
                                        <p className="text-sm font-medium text-slate-900">Simulator</p>
                                        <p className="text-xs text-slate-600">What-If Testing</p>
                                    </div>
                                    <div className="text-center p-3 bg-slate-50 rounded-lg">
                                        <FileText className="w-8 h-8 text-blue-600 mx-auto mb-2" />
                                        <p className="text-sm font-medium text-slate-900">Reports</p>
                                        <p className="text-xs text-slate-600">Energy Reports</p>
                                    </div>
                                    <div className="text-center p-3 bg-slate-50 rounded-lg">
                                        <Settings className="w-8 h-8 text-slate-600 mx-auto mb-2" />
                                        <p className="text-sm font-medium text-slate-900">Settings</p>
                                        <p className="text-xs text-slate-600">Configuration</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="text-center text-slate-500 text-sm">
                            <p>VPP Nexus - Virtual Power Plant Energy Management Dashboard</p>
                            <p className="mt-1">Last updated: {currentTime.toLocaleTimeString()}</p>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<Dashboard />, document.getElementById('root'));
    </script>
</body>
</html>
